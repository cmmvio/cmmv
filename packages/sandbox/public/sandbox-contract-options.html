<div
    v-show="tabs[selectedTab].label === 'Options'"
    class="flex-1 p-4 overflow-auto h-[calc(100%-96px)]"
>
    <div class="flex text-xs justify-center">
        <div class="w-full">
            <div class="mb-4 bg-blue-900/30 border border-blue-800 text-blue-200 p-3 rounded-md text-sm">
                <div class="flex items-start">
                    <svg xmlns="http://www.w3.org/2000/svg" class="h-5 w-5 mr-2 flex-shrink-0 mt-0.5" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M13 16h-1v-4h-1m1-4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z" />
                    </svg>
                    <div>
                        <div class="flex items-center">
                            <p class="font-medium mb-1">Public Contract</p>
                            <input
                                type="checkbox"
                                class="ml-3 w-3 h-3 text-blue-600 bg-neutral-800 dark:bg-gray-700 rounded-sm focus:ring-blue-800 focus:ring-2 rounded-md"
                                :disabled="selectedContract.options.moduleContract"
                                v-model="selectedContract.isPublic"
                            />
                        </div>
                        <p>By enabling this option, you define that the application should automatically include this contract in the loading pipeline. This will cause controllers, gateways, GraphQL endpoints, and derivatives to be generated based on this schema and become public on the next application restart.</p>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <div class="flex border-b border-neutral-800 mb-4 pb-1 text-neutral-500">
        General
    </div>

    <div class="flex text-xs justify-center mt-2 mb-4" v-if="selectedContract.generateController">
        <div class="w-[200px] flex">Endpoint: </div>
        <div class="w-[calc(100%-200px)] justify-end">
            <a :href="getEndpoint(selectedContract)" target="_blank">{{ getEndpoint(selectedContract) }}</a>
        </div>
    </div>

    <div class="flex text-xs justify-center mt-2">
        <div class="w-[200px] flex">Namespace: </div>
        <div class="w-[calc(100%-200px)] justify-end">
            <input
                class="border pl-4 h-[42px] w-full border-neutral-800 focus-none outline-none"
                type="text"
                placeholder="Defines whether the contract is part of a subdirectory"
                v-model="selectedContract.namespace"
                :disabled="selectedContract.options.moduleContract"
                @change="updateContractField('namespace', selectedContract.namespace)"
                @blur="updateContractField('namespace', selectedContract.namespace)"
            />

            <div class="text-neutral-500 mt-1">Defines whether the contract belongs to a feature grouping.</div>
        </div>
    </div>

    <div class="flex text-xs justify-center mt-2">
        <div class="w-[200px] flex">Subpath: </div>
        <div class="w-[calc(100%-200px)] justify-end">
            <input
                class="border pl-4 h-[42px] w-full border-neutral-800 focus-none outline-none"
                type="text"
                placeholder="Defines whether the contract is part of a subdirectory"
                v-model="selectedContract.subPath"
                :disabled="selectedContract.options.moduleContract"
                @change="updateContractField('subPath', selectedContract.subPath)"
                @blur="updateContractField('subPath', selectedContract.subPath)"
            />

            <div class="text-neutral-500 mt-1">Defines whether files generated by the application should be saved in subdirectories.</div>
        </div>
    </div>

    <div class="flex text-xs justify-center mt-2">
        <div class="w-[200px] flex">Imports: </div>
        <div class="w-[calc(100%-200px)] justify-end">
            <input
                class="border pl-4 h-[42px] w-full border-neutral-800 focus-none outline-none"
                type="text"
                placeholder="Defines whether the contract is part of a subdirectory"
                v-model="selectedContract.imports"
                :disabled="selectedContract.options.moduleContract"
                @change="updateContractField('imports', selectedContract.imports)"
                @blur="updateContractField('imports', selectedContract.imports)"
            />

            <div class="text-neutral-500 mt-1">Defines imports of native Node.js classes for transformation uses.</div>
        </div>
    </div>

    <div class="flex text-xs justify-center mt-4">
        <div class="mr-1">
            <a href="https://cmmv.io/docs/modules/cache" target="_blank">
                <svg xmlns="http://www.w3.org/2000/svg" width="15" viewBox="0 0 24 24" fill="currentColor"><path fill-rule="evenodd" d="M2.25 12c0-5.385 4.365-9.75 9.75-9.75s9.75 4.365 9.75 9.75-4.365 9.75-9.75 9.75S2.25 17.385 2.25 12Zm11.378-3.917c-.89-.777-2.366-.777-3.255 0a.75.75 0 0 1-.988-1.129c1.454-1.272 3.776-1.272 5.23 0 1.513 1.324 1.513 3.518 0 4.842a3.75 3.75 0 0 1-.837.552c-.676.328-1.028.774-1.028 1.152v.75a.75.75 0 0 1-1.5 0v-.75c0-1.279 1.06-2.107 1.875-2.502.182-.088.351-.199.503-.331.83-.727.83-1.857 0-2.584ZM12 18a.75.75 0 1 0 0-1.5.75.75 0 0 0 0 1.5Z" clip-rule="evenodd"></path></svg>
            </a>
        </div>
        <div class="w-[180px] flex items-center">Cache: </div>
        <div class="w-[calc(100%-200px)] justify-end">
            <input
                type="checkbox"
                class="w-3 h-3 mr-2 text-blue-600 bg-neutral-800 dark:bg-gray-700 rounded-sm focus:ring-blue-800 focus:ring-2 rounded-md"
                :disabled="selectedContract.options.moduleContract"
                v-model="selectedContract.cache"
                @change="updateContractField('cache', selectedContract.cache)"
            />

            Includes in-memory cache (Requires: @cmmv/cache installed)
        </div>
    </div>

    <div class="flex text-xs justify-center mt-4">
        <div class="mr-1">
            <a href="https://cmmv.io/docs/modules/authentication" target="_blank">
                <svg xmlns="http://www.w3.org/2000/svg" width="15" viewBox="0 0 24 24" fill="currentColor"><path fill-rule="evenodd" d="M2.25 12c0-5.385 4.365-9.75 9.75-9.75s9.75 4.365 9.75 9.75-4.365 9.75-9.75 9.75S2.25 17.385 2.25 12Zm11.378-3.917c-.89-.777-2.366-.777-3.255 0a.75.75 0 0 1-.988-1.129c1.454-1.272 3.776-1.272 5.23 0 1.513 1.324 1.513 3.518 0 4.842a3.75 3.75 0 0 1-.837.552c-.676.328-1.028.774-1.028 1.152v.75a.75.75 0 0 1-1.5 0v-.75c0-1.279 1.06-2.107 1.875-2.502.182-.088.351-.199.503-.331.83-.727.83-1.857 0-2.584ZM12 18a.75.75 0 1 0 0-1.5.75.75 0 0 0 0 1.5Z" clip-rule="evenodd"></path></svg>
            </a>
        </div>
        <div class="w-[180px] flex items-center">Auth: </div>
        <div class="w-[calc(100%-200px)] justify-end">
            <input
                type="checkbox"
                class="w-3 h-3 mr-2 text-blue-600 bg-neutral-800 dark:bg-gray-700 rounded-sm focus:ring-blue-800 focus:ring-2 rounded-md"
                :disabled="selectedContract.options.moduleContract"
                v-model="selectedContract.auth"
                @change="updateContractField('auth', selectedContract.auth)"
            />

            Includes authentication in Restful, GraphQL and RPC (Requires: @cmmv/auth installed)
        </div>
    </div>

    <div class="flex text-xs justify-center mt-4">
        <div class="w-[200px] flex items-center">Root Only: </div>
        <div class="w-[calc(100%-200px)] justify-end">
            <input
                type="checkbox"
                class="w-3 h-3 mr-2 text-blue-600 bg-neutral-800 dark:bg-gray-700 rounded-sm focus:ring-blue-800 focus:ring-2 rounded-md"
                :disabled="selectedContract.options.moduleContract"
                v-model="selectedContract.rootOnly"
                @change="updateContractField('rootOnly', selectedContract.rootOnly)"
            />

            All access can only be done by Root users
        </div>
    </div>

    <div class="flex text-xs mt-6">
        <div class="w-[200px] flex">Description: </div>
        <div class="w-[calc(100%-200px)] justify-end">
            <textarea
                class="border p-2 -min-h-[60px] w-full border-neutral-800 focus-none outline-none"
                type="text"
                placeholder="Description of the usability of these contracts"
                v-model="selectedContract.options.description"
                :disabled="selectedContract.options.moduleContract"
                @change="updateContractOption('description', selectedContract.options.description)"
                @blur="updateContractOption('description', selectedContract.options.description)"
            ></textarea>
        </div>
    </div>

    <div class="flex text-xs justify-center mt-4">
        <div class="w-[200px] flex items-center">Generate Entities: </div>
        <div class="w-[calc(100%-200px)] justify-end">
            <input
                type="checkbox"
                class="w-3 h-3 mr-2 text-blue-600 bg-neutral-800 dark:bg-gray-700 rounded-sm focus:ring-blue-800 focus:ring-2 rounded-md"
                :disabled="selectedContract.options.moduleContract"
                v-model="selectedContract.generateEntities"
                @change="updateContractField('generateEntities', selectedContract.generateEntities)"
            />

            The application of models, repository entities, DTOs, and types
        </div>
    </div>

    <div class="flex border-b border-neutral-800 mb-4 pb-1 mt-8 text-neutral-500">
        Controller (Restful, GraphQL, RPC)
    </div>

    <div class="flex text-xs justify-center">
        <div class="w-[200px] flex items-center">Controller Name: </div>
        <div class="w-[calc(100%-200px)] justify-end">
            <input
                class="border pl-4 h-[42px] w-full border-neutral-800 focus-none outline-none"
                type="text"
                placeholder="Define the controller that will be used as a base in all derived files"
                v-model="selectedContract.controllerName"
                :disabled="selectedContract.options.moduleContract"
                @change="updateContractField('controllerName', selectedContract.controllerName)"
                @blur="updateContractField('controllerName', selectedContract.controllerName)"
            />
        </div>
    </div>

    <div class="flex text-xs justify-center mt-2">
        <div class="w-[200px] flex items-center">Controller Custom Path: </div>
        <div class="w-[calc(100%-200px)] justify-end">
            <input
                class="border pl-4 h-[42px] w-full border-neutral-800 focus-none outline-none"
                type="text"
                placeholder="Defines whether the Restful controller will have a custom path"
                v-model="selectedContract.controllerCustomPath"
                :disabled="selectedContract.options.moduleContract"
                @input="validateControllerPath"
                @change="updateContractField('controllerCustomPath', selectedContract.controllerCustomPath)"
                @blur="updateContractField('controllerCustomPath', selectedContract.controllerCustomPath)"
            />
            <div class="text-neutral-500 mt-1">Should not start with a slash. Example: 'api/users' instead of '/api/users'</div>
        </div>
    </div>

    <div class="flex text-xs justify-center mt-4">
        <div class="w-[200px] flex items-center">Generate Controllers: </div>
        <div class="w-[calc(100%-200px)] justify-end">
            <input
                type="checkbox"
                class="w-3 h-3 mr-2 text-blue-600 bg-neutral-800 dark:bg-gray-700 rounded-sm focus:ring-blue-800 focus:ring-2 rounded-md"
                :disabled="selectedContract.options.moduleContract"
                v-model="selectedContract.generateController"
                @change="updateContractField('generateController', selectedContract.generateController)"
            />

            The application to generate the controllers, whether for Restful, GraphQL or RPC
        </div>
    </div>

    <div class="flex border-b border-neutral-800 mb-4 pb-1 mt-8 text-neutral-500 items-center">
        <div class="mr-1 flex">
            <a href="https://cmmv.io/docs/rpc/overview" target="_blank">
                <svg xmlns="http://www.w3.org/2000/svg" width="15" viewBox="0 0 24 24" fill="currentColor"><path fill-rule="evenodd" d="M2.25 12c0-5.385 4.365-9.75 9.75-9.75s9.75 4.365 9.75 9.75-4.365 9.75-9.75 9.75S2.25 17.385 2.25 12Zm11.378-3.917c-.89-.777-2.366-.777-3.255 0a.75.75 0 0 1-.988-1.129c1.454-1.272 3.776-1.272 5.23 0 1.513 1.324 1.513 3.518 0 4.842a3.75 3.75 0 0 1-.837.552c-.676.328-1.028.774-1.028 1.152v.75a.75.75 0 0 1-1.5 0v-.75c0-1.279 1.06-2.107 1.875-2.502.182-.088.351-.199.503-.331.83-.727.83-1.857 0-2.584ZM12 18a.75.75 0 1 0 0-1.5.75.75 0 0 0 0 1.5Z" clip-rule="evenodd"></path></svg>
            </a>
        </div>

        <div class="flex">
            Protobuf
        </div>
    </div>

    <div class="flex text-xs justify-center mt-2">
        <div class="w-[200px] flex items-center">Proto Name: </div>
        <div class="w-[calc(100%-200px)] justify-end">
            <input
                class="border pl-4 h-[42px] w-full border-neutral-800 focus-none outline-none"
                type="text"
                placeholder="Set the name of the protobuf file that will be generated using .proto at the end"
                v-model="selectedContract.protoPath"
                :disabled="selectedContract.options.moduleContract"
                @input="validateProtoPath"
                @change="updateContractField('protoPath', selectedContract.protoPath)"
                @blur="updateContractField('protoPath', selectedContract.protoPath)"
            />
        </div>
    </div>

    <div class="flex text-xs justify-center mt-2">
        <div class="w-[200px] flex items-center">Proto Package: </div>
        <div class="w-[calc(100%-200px)] justify-end">
            <input
                class="border pl-4 h-[42px] w-full border-neutral-800 focus-none outline-none"
                type="text"
                placeholder="Defines in protobuf the package that the contract belongs to"
                v-model="selectedContract.protoPackage"
                :disabled="selectedContract.options.moduleContract"
                @input="validateProtoPackage"
                @change="updateContractField('protoPackage', selectedContract.protoPackage)"
                @blur="updateContractField('protoPackage', selectedContract.protoPackage)"
            />
        </div>
    </div>

    <div class="flex text-xs justify-center mt-4">
        <div class="w-[200px] flex items-center">Direct Message: </div>
        <div class="w-[calc(100%-200px)] justify-end">
            <input
                type="checkbox"
                class="w-3 h-3 mr-2 text-blue-600 bg-neutral-800 dark:bg-gray-700 rounded-sm focus:ring-blue-800 focus:ring-2 rounded-md"
                :disabled="selectedContract.options.moduleContract"
                v-model="selectedContract.directMessage"
                @change="updateContractField('directMessage', selectedContract.directMessage)"
            />

            Sets Protobuf to not generate CRUD messages because the contract structure will be used for direct communication, such as creating a contract as a login DTO.
        </div>
    </div>

    <div class="flex border-b border-neutral-800 mb-4 pb-1 mt-8 text-neutral-500 items-center">
        <div class="mr-1 flex">
            <a href="https://cmmv.io/docs/modules/repository" target="_blank">
                <svg xmlns="http://www.w3.org/2000/svg" width="15" viewBox="0 0 24 24" fill="currentColor"><path fill-rule="evenodd" d="M2.25 12c0-5.385 4.365-9.75 9.75-9.75s9.75 4.365 9.75 9.75-4.365 9.75-9.75 9.75S2.25 17.385 2.25 12Zm11.378-3.917c-.89-.777-2.366-.777-3.255 0a.75.75 0 0 1-.988-1.129c1.454-1.272 3.776-1.272 5.23 0 1.513 1.324 1.513 3.518 0 4.842a3.75 3.75 0 0 1-.837.552c-.676.328-1.028.774-1.028 1.152v.75a.75.75 0 0 1-1.5 0v-.75c0-1.279 1.06-2.107 1.875-2.502.182-.088.351-.199.503-.331.83-.727.83-1.857 0-2.584ZM12 18a.75.75 0 1 0 0-1.5.75.75 0 0 0 0 1.5Z" clip-rule="evenodd"></path></svg>
            </a>
        </div>

        <div class="flex">
            Repository
        </div>
    </div>

    <div class="flex text-xs justify-center mt-2">
        <div class="w-[200px] flex items-center">Table/Collection Name: </div>
        <div class="w-[calc(100%-200px)] justify-end">
            <input
                class="border pl-4 h-[42px] w-full border-neutral-800 focus-none outline-none"
                type="text"
                placeholder="Set the name of the protobuf file that will be generated using .proto at the end"
                v-model="selectedContract.options.databaseSchemaName"
                :disabled="selectedContract.options.moduleContract"
                @change="updateContractOption('databaseSchemaName', selectedContract.options.databaseSchemaName)"
                @blur="updateContractOption('databaseSchemaName', selectedContract.options.databaseSchemaName)"
            />
        </div>
    </div>

    <div class="flex text-xs justify-center mt-4">
        <div class="w-[200px] flex items-center">Timestamps: </div>
        <div class="w-[calc(100%-200px)] justify-end">
            <input
                type="checkbox"
                class="w-3 h-3 mr-2 text-blue-600 bg-neutral-800 dark:bg-gray-700 rounded-sm focus:ring-blue-800 focus:ring-2 rounded-md"
                :disabled="selectedContract.options.moduleContract"
                v-model="selectedContract.options.databaseTimestamps"
                @change="updateContractOption('databaseTimestamps', selectedContract.options.databaseTimestamps)"
            />

            Includes the createAt and updateAt fields and updates automatically
        </div>
    </div>

    <div class="flex text-xs justify-center mt-4">
        <div class="w-[200px] flex items-center">User Log: </div>
        <div class="w-[calc(100%-200px)] justify-end">
            <input
                type="checkbox"
                class="w-3 h-3 mr-2 text-blue-600 bg-neutral-800 dark:bg-gray-700 rounded-sm focus:ring-blue-800 focus:ring-2 rounded-md"
                :disabled="selectedContract.options.moduleContract"
                v-model="selectedContract.options.databaseUserAction"
                @change="updateContractOption('databaseUserAction', selectedContract.options.databaseUserAction)"
            />

            Includes the ID of the user who creates, updates and deletes the record.
        </div>
    </div>

    <div class="flex text-xs justify-center mt-4 mb-4">
        <div class="w-[200px] flex items-center">Fake Delete: </div>
        <div class="w-[calc(100%-200px)] justify-end">
            <input
                type="checkbox"
                class="w-3 h-3 mr-2 text-blue-600 bg-neutral-800 dark:bg-gray-700 rounded-sm focus:ring-blue-800 focus:ring-2 rounded-md"
                :disabled="selectedContract.options.moduleContract"
                v-model="selectedContract.options.databaseFakeDelete"
                @change="updateContractOption('databaseFakeDelete', selectedContract.options.databaseFakeDelete)"
            />

            Adds a deleted field, filters to facilitate data recovery.
        </div>
    </div>

    <div class="flex flex-col text-xs mb-4 mt-8" v-if="selectedContract && !selectedContract.options.moduleContract">
        <div class="mb-4 bg-red-900/30 border border-red-800 text-red-200 p-3 rounded-md text-sm">
            <div class="flex items-start">
                <svg xmlns="http://www.w3.org/2000/svg" class="h-5 w-5 mr-2 flex-shrink-0 mt-0.5" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-3L13.732 4c-.77-1.333-2.694-1.333-3.464 0L3.34 16c-.77 1.333.192 3 1.732 3z" />
                </svg>
                <div>
                    <p class="font-medium mb-1">Warning!</p>
                    <p>Deleting this contract will remove all implementations generated from it, including REST API endpoints, GraphQL schema, RPC services, database models, and any other derived components. This action cannot be undone.</p>
                </div>
            </div>
        </div>

        <button
            class="bg-red-500 hover:bg-red-600 text-white px-4 py-2 rounded-md w-fit transition-colors duration-200"
            @click="confirmDeleteContract()"
        >Delete Contract</button>
    </div>
</div>
