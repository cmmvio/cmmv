<html>
    <head>
        <title>Sandbox</title>
        <meta charset="UTF-8" />
        <meta name="viewport" content="width=device-width, initial-scale=1.0" />
        <link rel="icon" href="https://cmmv.io/assets/favicon/favicon.ico">
        <link id="style" rel="stylesheet" href="/sandbox/style.css" />
        <link rel="stylesheet" data-name="vs/editor/editor.main" href="https://cdnjs.cloudflare.com/ajax/libs/monaco-editor/0.26.1/min/vs/editor/editor.main.min.css">
        <script src="https://cdn.jsdelivr.net/npm/@tailwindcss/browser@4"></script>
        <script type="text/javascript" src="https://unpkg.com/vue@3/dist/vue.global.js"></script>
        <script type="text/javascript" src="https://unpkg.com/vue-router@4.5.0/dist/vue-router.global.js"></script>
    </head>
    <body class="bg-neutral-900 text-neutral-200 overflow-hidden">
        <div id="app" class="flex" v-clock>
            <!-- Contracts List -->
            <div class="w-56 h-screen borders border-r border-neutral-800 fixed">
                <div class="h-[3rem] border-b border-neutral-800 flex items-center px-3 sticky top-0 z-10">
                    <div class="flex">
                        <img src="https://cmmv.io/assets/favicon/android-chrome-192x192.png" width="30" height="30" alt="CMMV Logo" />
                    </div>
                    <div class="flex ml-2">
                        <h4 class="text-md">CMMV</h4>
                    </div>
                </div>

                <div class="p-2 h-[calc(100%-180px)] overflow-auto" v-if="selectedContract">
                    <input type="text" class="border border-neutral-800 p-1 px-2 w-full rounded-md mb-4" placeholder="Filter" />

                    <div class="flex space-x-3 mb-2 font-normal px-3">
                        <span class="text-sm text-neutral-500 dark:text-neutral-400 w-full">
                            <div class="flex flex-col space-y-2 uppercase font-mono">
                                <span>CONTRACTS</span>
                            </div>
                        </span>
                    </div>

                    <button
                        v-for="(contract, key) in schema"
                        class="flex items-center cursor-pointer py-1 px-3 text-sm rounded-md text-neutral-600 dark:text-neutral-300 hover:text-neutral-900 dark:hover:text-white hover:bg-neutral-50 dark:hover:bg-neutral-800/50 w-full py-2"
                        :class="{'bg-neutral-800' : selectedContract.controllerName === contract.controllerName }"
                        @click="selectContract(key)"
                        v-show="!hiddenModuleContracts || (hiddenModuleContracts && !contract.options.moduleContract)"
                    >
                        <svg
                            xmlns="http://www.w3.org/2000/svg"
                            width="12" height="12"
                            viewBox="0 0 24 24"
                            fill="currentColor"
                            class="mr-1"
                            v-if="contract.options.moduleContract"
                            title="ReadOnly"
                        >
                            <path fill-rule="evenodd" d="M12 1.5a5.25 5.25 0 0 0-5.25 5.25v3a3 3 0 0 0-3 3v6.75a3 3 0 0 0 3 3h10.5a3 3 0 0 0 3-3v-6.75a3 3 0 0 0-3-3v-3c0-2.9-2.35-5.25-5.25-5.25Zm3.75 8.25v-3a3.75 3.75 0 1 0-7.5 0v3h7.5Z" clip-rule="evenodd"></path>
                        </svg>

                        {{ contract.controllerName }}
                    </button>
                </div>

                <div class="justify-center text-center px-2">
                    <div class="w-full flex text-sm items-center mb-2 justify-center">
                        <div class="flex">
                            <input
                                type="checkbox"
                                class="w-3 h-3 mr-2 text-blue-600 bg-neutral-800 dark:bg-gray-700 rounded-sm focus:ring-blue-800 focus:ring-2 rounded-md"
                                v-model="hiddenModuleContracts"
                            />
                        </div>

                        <div class="flex">Hide module contracts</div>
                    </div>

                    <button
                        class="bg-green-900 hover:bg-green-800 hover:text-white cursor-pointer text-sm p-2 mt-3 px-4 rounded-md w-full flex justify-center gap-x-2"
                        @click="newContract()"
                    >
                        <div class="flex">
                            <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" width="18" fill="currentColor">
                                <path fill-rule="evenodd" d="M12 3.75a.75.75 0 0 1 .75.75v6.75h6.75a.75.75 0 0 1 0 1.5h-6.75v6.75a.75.75 0 0 1-1.5 0v-6.75H4.5a.75.75 0 0 1 0-1.5h6.75V4.5a.75.75 0 0 1 .75-.75Z" clip-rule="evenodd"></path>
                            </svg>
                        </div>
                        <div class="flex">New Contract</div>
                    </button>

                    <button
                        class="bg-blue-900 hover:bg-blue-800 hover:text-white cursor-pointer text-sm p-2 mt-3 px-4 rounded-md w-full flex justify-center gap-x-2"
                        @click="syncApplication()"
                    >
                        <div class="flex">
                            <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" width="18" fill="currentColor">
                                <path fill-rule="evenodd" d="M4.755 10.059a7.5 7.5 0 0 1 12.548-3.364l1.903 1.903h-3.183a.75.75 0 1 0 0 1.5h4.992a.75.75 0 0 0 .75-.75V4.356a.75.75 0 0 0-1.5 0v3.18l-1.9-1.9A9 9 0 0 0 3.306 9.67a.75.75 0 1 0 1.45.388Zm15.408 3.352a.75.75 0 0 0-.919.53 7.5 7.5 0 0 1-12.548 3.364l-1.902-1.903h3.183a.75.75 0 0 0 0-1.5H2.984a.75.75 0 0 0-.75.75v4.992a.75.75 0 0 0 1.5 0v-3.18l1.9 1.9a9 9 0 0 0 15.059-4.035.75.75 0 0 0-.53-.918Z" clip-rule="evenodd"></path>
                            </svg>
                        </div>
                        <div class="flex">Sync Application</div>
                    </button>
                </div>
            </div>

            <!-- Contracts -->
            <div class="flex-1 ml-56 overflow-hidden h-screen" v-if="selectedContract">
                <div class="border-b h-[48px] border-neutral-800 w-full">
                    <div class="h-full flex items-center sticky top-0 z-10 relative">
                        <ul class="flex h-full justify-center">
                            <li
                                v-for="(item, key) in tabs"
                                class="px-4 py-1 select-none cursor-pointer justify-center flex items-center"
                                :class="{'bg-neutral-800': (key === selectedTab)}"
                                @click="selectTab(key)"
                            >{{ item.label }}</li>
                        </ul>

                        <div class="absolute right-2 flex gap-x-4">
                            <a href="https://cmmv.io/docs" target="_blank" title="Docs" class="hover:text-white">
                                <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="currentColor" width="24">
                                    <path d="M11.25 4.533A9.707 9.707 0 0 0 6 3a9.735 9.735 0 0 0-3.25.555.75.75 0 0 0-.5.707v14.25a.75.75 0 0 0 1 .707A8.237 8.237 0 0 1 6 18.75c1.995 0 3.823.707 5.25 1.886V4.533ZM12.75 20.636A8.214 8.214 0 0 1 18 18.75c.966 0 1.89.166 2.75.47a.75.75 0 0 0 1-.708V4.262a.75.75 0 0 0-.5-.707A9.735 9.735 0 0 0 18 3a9.707 9.707 0 0 0-5.25 1.533v16.103Z"></path>
                                </svg>
                            </a>

                            <a href="https://github.com/cmmvio/cmmv" target="_blank" title="Github" class="hover:text-white">
                                <svg xmlns="http://www.w3.org/2000/svg" fill="currentColor" viewBox="0 0 24 24" width="24">
                                    <path d="M12 0C5.371 0 0 5.371 0 12c0 5.302 3.438 9.8 8.207 11.387.6.111.793-.26.793-.577 0-.286-.011-1.043-.017-2.047-3.338.726-4.042-1.609-4.042-1.609-.546-1.387-1.333-1.757-1.333-1.757-1.089-.745.083-.729.083-.729 1.204.085 1.838 1.236 1.838 1.236 1.07 1.834 2.807 1.305 3.492.998.109-.775.419-1.306.761-1.606-2.666-.304-5.466-1.333-5.466-5.933 0-1.31.469-2.381 1.236-3.221-.124-.305-.536-1.526.117-3.176 0 0 1.008-.322 3.301 1.231.957-.266 1.983-.399 3.003-.404 1.019.005 2.046.138 3.003.404 2.292-1.553 3.299-1.231 3.299-1.231.655 1.65.243 2.871.119 3.176.77.84 1.235 1.911 1.235 3.221 0 4.61-2.803 5.625-5.475 5.922.43.371.812 1.102.812 2.222 0 1.606-.014 2.901-.014 3.293 0 .32.192.694.801.576C20.565 21.795 24 17.299 24 12c0-6.629-5.371-12-12-12z"></path>
                                </svg>
                            </a>
                        </div>
                    </div>
                </div>

                <div class="overflow-hidden">
                    <!-- Header -->
                    <div class="flex py-2 px-4 border-b border-neutral-800">
                        <div class="flex mr-2">
                            <svg xmlns="http://www.w3.org/2000/svg" width="18" height="24" viewBox="0 0 24 24" fill="currentColor">
                                <path fill-rule="evenodd" d="M5.625 1.5c-1.036 0-1.875.84-1.875 1.875v17.25c0 1.035.84 1.875 1.875 1.875h12.75c1.035 0 1.875-.84 1.875-1.875V12.75A3.75 3.75 0 0 0 16.5 9h-1.875a1.875 1.875 0 0 1-1.875-1.875V5.25A3.75 3.75 0 0 0 9 1.5H5.625ZM7.5 15a.75.75 0 0 1 .75-.75h7.5a.75.75 0 0 1 0 1.5h-7.5A.75.75 0 0 1 7.5 15Zm.75 2.25a.75.75 0 0 0 0 1.5H12a.75.75 0 0 0 0-1.5H8.25Z" clip-rule="evenodd"></path>
                                <path d="M12.971 1.816A5.23 5.23 0 0 1 14.25 5.25v1.875c0 .207.168.375.375.375H16.5a5.23 5.23 0 0 1 3.434 1.279 9.768 9.768 0 0 0-6.963-6.963Z"></path>
                            </svg>
                        </div>
                        <div class="flex">
                            <h3>
                                {{ selectedContract?.controllerName }} ({{ selectedContract.contractName }})
                            </h3>
                        </div>
                    </div>

                    <!-- Options -->
                    <div
                        v-show="tabs[selectedTab].label === 'Options'"
                        class="flex-1 p-4 overflow-auto h-[calc(100%-96px)]"
                    >
                        <div class="flex border-b border-neutral-800 mb-4 pb-1 text-neutral-500">
                            General
                        </div>

                        <div class="flex text-xs justify-center mt-2 mb-4" v-if="selectedContract.generateController">
                            <div class="w-[200px] flex">Endpoint: </div>
                            <div class="w-[calc(100%-200px)] justify-end">
                                <a :href="getEndpoint(selectedContract)" target="_blank">{{ getEndpoint(selectedContract) }}</a>
                            </div>
                        </div>

                        <div class="flex text-xs justify-center mt-2">
                            <div class="w-[200px] flex">Subpath: </div>
                            <div class="w-[calc(100%-200px)] justify-end">
                                <input
                                    class="border pl-4 h-[42px] w-full border-neutral-800 focus-none outline-none"
                                    type="text"
                                    placeholder="Defines whether the contract is part of a subdirectory"
                                    v-model="selectedContract.subPath"
                                    :disabled="selectedContract.options.moduleContract"
                                />

                                <div class="text-neutral-500 mt-1">Defines whether files generated by the application should be saved in subdirectories.</div>
                            </div>
                        </div>

                        <div class="flex text-xs justify-center mt-2">
                            <div class="w-[200px] flex">Imports: </div>
                            <div class="w-[calc(100%-200px)] justify-end">
                                <input
                                    class="border pl-4 h-[42px] w-full border-neutral-800 focus-none outline-none"
                                    type="text"
                                    placeholder="Defines whether the contract is part of a subdirectory"
                                    v-model="selectedContract.imports"
                                    :disabled="selectedContract.options.moduleContract"
                                />

                                <div class="text-neutral-500 mt-1">Defines imports of native Node.js classes for transformation uses.</div>
                            </div>
                        </div>

                        <div class="flex text-xs justify-center mt-4">
                            <div class="mr-1">
                                <a href="https://cmmv.io/docs/modules/cache" target="_blank">
                                    <svg xmlns="http://www.w3.org/2000/svg" width="15" viewBox="0 0 24 24" fill="currentColor"><path fill-rule="evenodd" d="M2.25 12c0-5.385 4.365-9.75 9.75-9.75s9.75 4.365 9.75 9.75-4.365 9.75-9.75 9.75S2.25 17.385 2.25 12Zm11.378-3.917c-.89-.777-2.366-.777-3.255 0a.75.75 0 0 1-.988-1.129c1.454-1.272 3.776-1.272 5.23 0 1.513 1.324 1.513 3.518 0 4.842a3.75 3.75 0 0 1-.837.552c-.676.328-1.028.774-1.028 1.152v.75a.75.75 0 0 1-1.5 0v-.75c0-1.279 1.06-2.107 1.875-2.502.182-.088.351-.199.503-.331.83-.727.83-1.857 0-2.584ZM12 18a.75.75 0 1 0 0-1.5.75.75 0 0 0 0 1.5Z" clip-rule="evenodd"></path></svg>
                                </a>
                            </div>
                            <div class="w-[180px] flex items-center">Cache: </div>
                            <div class="w-[calc(100%-200px)] justify-end">
                                <input
                                    type="checkbox"
                                    class="w-3 h-3 mr-2 text-blue-600 bg-neutral-800 dark:bg-gray-700 rounded-sm focus:ring-blue-800 focus:ring-2 rounded-md"
                                    :disabled="selectedContract.options.moduleContract"
                                    v-model="selectedContract.cache"
                                />

                                Includes in-memory cache (Requires: @cmmv/cache installed)
                            </div>
                        </div>

                        <div class="flex text-xs justify-center mt-4">
                            <div class="mr-1">
                                <a href="https://cmmv.io/docs/modules/authentication" target="_blank">
                                    <svg xmlns="http://www.w3.org/2000/svg" width="15" viewBox="0 0 24 24" fill="currentColor"><path fill-rule="evenodd" d="M2.25 12c0-5.385 4.365-9.75 9.75-9.75s9.75 4.365 9.75 9.75-4.365 9.75-9.75 9.75S2.25 17.385 2.25 12Zm11.378-3.917c-.89-.777-2.366-.777-3.255 0a.75.75 0 0 1-.988-1.129c1.454-1.272 3.776-1.272 5.23 0 1.513 1.324 1.513 3.518 0 4.842a3.75 3.75 0 0 1-.837.552c-.676.328-1.028.774-1.028 1.152v.75a.75.75 0 0 1-1.5 0v-.75c0-1.279 1.06-2.107 1.875-2.502.182-.088.351-.199.503-.331.83-.727.83-1.857 0-2.584ZM12 18a.75.75 0 1 0 0-1.5.75.75 0 0 0 0 1.5Z" clip-rule="evenodd"></path></svg>
                                </a>
                            </div>
                            <div class="w-[180px] flex items-center">Auth: </div>
                            <div class="w-[calc(100%-200px)] justify-end">
                                <input
                                    type="checkbox"
                                    class="w-3 h-3 mr-2 text-blue-600 bg-neutral-800 dark:bg-gray-700 rounded-sm focus:ring-blue-800 focus:ring-2 rounded-md"
                                    :disabled="selectedContract.options.moduleContract"
                                    v-model="selectedContract.auth"
                                />

                                Includes authentication in Restful, GraphQL and RPC (Requires: @cmmv/auth installed)
                            </div>
                        </div>

                        <div class="flex text-xs justify-center mt-4">
                            <div class="w-[200px] flex items-center">Root Only: </div>
                            <div class="w-[calc(100%-200px)] justify-end">
                                <input
                                    type="checkbox"
                                    class="w-3 h-3 mr-2 text-blue-600 bg-neutral-800 dark:bg-gray-700 rounded-sm focus:ring-blue-800 focus:ring-2 rounded-md"
                                    :disabled="selectedContract.options.moduleContract"
                                    v-model="selectedContract.rootOnly"
                                />

                                All access can only be done by Root users
                            </div>
                        </div>

                        <div class="flex text-xs mt-6">
                            <div class="w-[200px] flex">Description: </div>
                            <div class="w-[calc(100%-200px)] justify-end">
                                <textarea
                                    class="border p-2 -min-h-[60px] w-full border-neutral-800 focus-none outline-none"
                                    type="text"
                                    placeholder="Description of the usability of these contracts"
                                    v-model="selectedContract.options.description"
                                    :disabled="selectedContract.options.moduleContract"
                                ></textarea>
                            </div>
                        </div>

                        <div class="flex text-xs justify-center mt-4">
                            <div class="w-[200px] flex items-center">Generate Entities: </div>
                            <div class="w-[calc(100%-200px)] justify-end">
                                <input
                                    type="checkbox"
                                    class="w-3 h-3 mr-2 text-blue-600 bg-neutral-800 dark:bg-gray-700 rounded-sm focus:ring-blue-800 focus:ring-2 rounded-md"
                                    :disabled="selectedContract.options.moduleContract"
                                    v-model="selectedContract.generateEntities"
                                />

                                The application of models, repository entities, DTOs, and types
                            </div>
                        </div>

                        <div class="flex border-b border-neutral-800 mb-4 pb-1 mt-8 text-neutral-500">
                            Controller (Restful, GraphQL, RPC)
                        </div>

                        <div class="flex text-xs justify-center">
                            <div class="w-[200px] flex items-center">Controller Name: </div>
                            <div class="w-[calc(100%-200px)] justify-end">
                                <input
                                    class="border pl-4 h-[42px] w-full border-neutral-800 focus-none outline-none"
                                    type="text"
                                    placeholder="Define the controller that will be used as a base in all derived files"
                                    v-model="selectedContract.controllerName"
                                    :disabled="selectedContract.options.moduleContract"
                                />
                            </div>
                        </div>

                        <div class="flex text-xs justify-center mt-2">
                            <div class="w-[200px] flex items-center">Controller Custom Path: </div>
                            <div class="w-[calc(100%-200px)] justify-end">
                                <input
                                    class="border pl-4 h-[42px] w-full border-neutral-800 focus-none outline-none"
                                    type="text"
                                    placeholder="Defines whether the Restful controller will have a custom path"
                                    v-model="selectedContract.controllerCustomPath"
                                    :disabled="selectedContract.options.moduleContract"
                                />
                            </div>
                        </div>

                        <div class="flex text-xs justify-center mt-4">
                            <div class="w-[200px] flex items-center">Generate Controllers: </div>
                            <div class="w-[calc(100%-200px)] justify-end">
                                <input
                                    type="checkbox"
                                    class="w-3 h-3 mr-2 text-blue-600 bg-neutral-800 dark:bg-gray-700 rounded-sm focus:ring-blue-800 focus:ring-2 rounded-md"
                                    :disabled="selectedContract.options.moduleContract"
                                    v-model="selectedContract.generateController"
                                />

                                The application to generate the controllers, whether for Restful, GraphQL or RPC
                            </div>
                        </div>

                        <div class="flex border-b border-neutral-800 mb-4 pb-1 mt-8 text-neutral-500 items-center">
                            <div class="mr-1 flex">
                                <a href="https://cmmv.io/docs/rpc/overview" target="_blank">
                                    <svg xmlns="http://www.w3.org/2000/svg" width="15" viewBox="0 0 24 24" fill="currentColor"><path fill-rule="evenodd" d="M2.25 12c0-5.385 4.365-9.75 9.75-9.75s9.75 4.365 9.75 9.75-4.365 9.75-9.75 9.75S2.25 17.385 2.25 12Zm11.378-3.917c-.89-.777-2.366-.777-3.255 0a.75.75 0 0 1-.988-1.129c1.454-1.272 3.776-1.272 5.23 0 1.513 1.324 1.513 3.518 0 4.842a3.75 3.75 0 0 1-.837.552c-.676.328-1.028.774-1.028 1.152v.75a.75.75 0 0 1-1.5 0v-.75c0-1.279 1.06-2.107 1.875-2.502.182-.088.351-.199.503-.331.83-.727.83-1.857 0-2.584ZM12 18a.75.75 0 1 0 0-1.5.75.75 0 0 0 0 1.5Z" clip-rule="evenodd"></path></svg>
                                </a>
                            </div>

                            <div class="flex">
                                Protobuf
                            </div>
                        </div>

                        <div class="flex text-xs justify-center mt-2">
                            <div class="w-[200px] flex items-center">Proto Name: </div>
                            <div class="w-[calc(100%-200px)] justify-end">
                                <input
                                    class="border pl-4 h-[42px] w-full border-neutral-800 focus-none outline-none"
                                    type="text"
                                    placeholder="Set the name of the protobuf file that will be generated using .proto at the end"
                                    v-model="selectedContract.protoPath"
                                    :disabled="selectedContract.options.moduleContract"
                                />
                            </div>
                        </div>

                        <div class="flex text-xs justify-center mt-2">
                            <div class="w-[200px] flex items-center">Proto Package: </div>
                            <div class="w-[calc(100%-200px)] justify-end">
                                <input
                                    class="border pl-4 h-[42px] w-full border-neutral-800 focus-none outline-none"
                                    type="text"
                                    placeholder="Defines in protobuf the package that the contract belongs to"
                                    v-model="selectedContract.protoPackage"
                                    :disabled="selectedContract.options.moduleContract"
                                />
                            </div>
                        </div>

                        <div class="flex text-xs justify-center mt-4">
                            <div class="w-[200px] flex items-center">Direct Message: </div>
                            <div class="w-[calc(100%-200px)] justify-end">
                                <input
                                    type="checkbox"
                                    class="w-3 h-3 mr-2 text-blue-600 bg-neutral-800 dark:bg-gray-700 rounded-sm focus:ring-blue-800 focus:ring-2 rounded-md"
                                    :disabled="selectedContract.options.moduleContract"
                                    v-model="selectedContract.directMessage"
                                />

                                Sets Protobuf to not generate CRUD messages because the contract structure will be used for direct communication, such as creating a contract as a login DTO.
                            </div>
                        </div>

                        <div class="flex border-b border-neutral-800 mb-4 pb-1 mt-8 text-neutral-500 items-center">
                            <div class="mr-1 flex">
                                <a href="https://cmmv.io/docs/modules/repository" target="_blank">
                                    <svg xmlns="http://www.w3.org/2000/svg" width="15" viewBox="0 0 24 24" fill="currentColor"><path fill-rule="evenodd" d="M2.25 12c0-5.385 4.365-9.75 9.75-9.75s9.75 4.365 9.75 9.75-4.365 9.75-9.75 9.75S2.25 17.385 2.25 12Zm11.378-3.917c-.89-.777-2.366-.777-3.255 0a.75.75 0 0 1-.988-1.129c1.454-1.272 3.776-1.272 5.23 0 1.513 1.324 1.513 3.518 0 4.842a3.75 3.75 0 0 1-.837.552c-.676.328-1.028.774-1.028 1.152v.75a.75.75 0 0 1-1.5 0v-.75c0-1.279 1.06-2.107 1.875-2.502.182-.088.351-.199.503-.331.83-.727.83-1.857 0-2.584ZM12 18a.75.75 0 1 0 0-1.5.75.75 0 0 0 0 1.5Z" clip-rule="evenodd"></path></svg>
                                </a>
                            </div>

                            <div class="flex">
                                Repository
                            </div>
                        </div>

                        <div class="flex text-xs justify-center mt-2">
                            <div class="w-[200px] flex items-center">Table/Collection Name: </div>
                            <div class="w-[calc(100%-200px)] justify-end">
                                <input
                                    class="border pl-4 h-[42px] w-full border-neutral-800 focus-none outline-none"
                                    type="text"
                                    placeholder="Set the name of the protobuf file that will be generated using .proto at the end"
                                    v-model="selectedContract.options.databaseSchemaName"
                                    :disabled="selectedContract.options.moduleContract"
                                />
                            </div>
                        </div>

                        <div class="flex text-xs justify-center mt-4">
                            <div class="w-[200px] flex items-center">Timestamps: </div>
                            <div class="w-[calc(100%-200px)] justify-end">
                                <input
                                    type="checkbox"
                                    class="w-3 h-3 mr-2 text-blue-600 bg-neutral-800 dark:bg-gray-700 rounded-sm focus:ring-blue-800 focus:ring-2 rounded-md"
                                    :disabled="selectedContract.options.moduleContract"
                                    v-model="selectedContract.options.databaseTimestamps"
                                />

                                Includes the createAt and updateAt fields and updates automatically
                            </div>
                        </div>

                        <div class="flex text-xs justify-center mt-4">
                            <div class="w-[200px] flex items-center">User Log: </div>
                            <div class="w-[calc(100%-200px)] justify-end">
                                <input
                                    type="checkbox"
                                    class="w-3 h-3 mr-2 text-blue-600 bg-neutral-800 dark:bg-gray-700 rounded-sm focus:ring-blue-800 focus:ring-2 rounded-md"
                                    :disabled="selectedContract.options.moduleContract"
                                    v-model="selectedContract.options.databaseUserAction"
                                />

                                Includes the ID of the user who creates, updates and deletes the record.
                            </div>
                        </div>

                        <div class="flex text-xs justify-center mt-4 mb-4">
                            <div class="w-[200px] flex items-center">Fake Delete: </div>
                            <div class="w-[calc(100%-200px)] justify-end">
                                <input
                                    type="checkbox"
                                    class="w-3 h-3 mr-2 text-blue-600 bg-neutral-800 dark:bg-gray-700 rounded-sm focus:ring-blue-800 focus:ring-2 rounded-md"
                                    :disabled="selectedContract.options.moduleContract"
                                    v-model="selectedContract.options.databaseFakeDelete"
                                />

                                Adds a deleted field, filters to facilitate data recovery.
                            </div>
                        </div>
                    </div>

                    <!-- Fields -->
                    <div
                        v-show="tabs[selectedTab].label === 'Fields'"
                        class="flex-1 p-4 overflow-auto h-[calc(100%-96px)]"
                    >
                        <div class="mb-4 flex">
                            <div class="flex w-[120px]">
                                <button
                                    class=" text-sm p-1 px-3 rounded-md"
                                    :class="[selectedContract.options.moduleContract ? 'bg-neutral-800 text-neutral-400 cursor-not-allowed' : 'bg-green-800 hover:bg-green-700 cursor-pointer']"
                                    @click="addField()"
                                >
                                    New Field
                                </button>
                            </div>


                            <div class="flex justify-end w-full items-center text-neutral-400">
                                <ul class="flex flex-row gap-x-4 text-sm ml-4">
                                    <li>N - Nullable</li>
                                    <li>RO - Read Only</li>
                                    <li>R - Required</li>
                                    <li>I - Index</li>
                                    <li>U - Unique</li>
                                </ul>
                            </div>
                        </div>

                        <div
                            v-for="(field, fieldKey) in selectedContract.fields"
                            class="mb-4 border w-full border-neutral-800 p-1 rounded-md flex-colum gap-x-4"
                        >
                            <div class="flex">
                                <div
                                    class="flex justify-center items-center ml-1"
                                    v-if="selectedContract.options.moduleContract"
                                >
                                    <svg
                                        xmlns="http://www.w3.org/2000/svg"
                                        width="12" height="12"
                                        viewBox="0 0 24 24"
                                        fill="currentColor"
                                        class="mr-1"
                                        title="ReadOnly"
                                    >
                                        <path fill-rule="evenodd" d="M12 1.5a5.25 5.25 0 0 0-5.25 5.25v3a3 3 0 0 0-3 3v6.75a3 3 0 0 0 3 3h10.5a3 3 0 0 0 3-3v-6.75a3 3 0 0 0-3-3v-3c0-2.9-2.35-5.25-5.25-5.25Zm3.75 8.25v-3a3.75 3.75 0 1 0-7.5 0v3h7.5Z" clip-rule="evenodd"></path>
                                    </svg>
                                </div>

                                <select
                                    title="Type"
                                    class="p-2 pr-4 mr-2 h-[42px] w-56 outline-none bg-neutral-900 border-none"
                                    :class="[selectedContract.options.moduleContract ? 'text-neutral-500' : '']"
                                    :disabled="selectedContract.options.moduleContract"
                                    v-model="field.protoType"
                                >
                                    <option
                                        v-for="fieldType in protoTypes"
                                        :selected="field.protoType === fieldType.key"
                                        :value="fieldType.key"
                                    >{{ fieldType.label }}</option>
                                </select>

                                <div class="items-center flex ml-4 mr-2" title="Array">
                                    <input
                                        type="checkbox"
                                        class="w-3 h-3 mr-2 text-blue-600 bg-neutral-800 dark:bg-gray-700 rounded-sm focus:ring-blue-800 focus:ring-2 rounded-md"
                                        :disabled="selectedContract.options.moduleContract"
                                        v-model="field.protoRepeated"
                                    />
                                    <svg xmlns="http://www.w3.org/2000/svg" width="18" viewBox="0 0 1792 1792" fill="currentColor"><path stroke-width="0" d="M384 1408q0 80-56 136t-136 56-136-56-56-136 56-136 136-56 136 56 56 136zm0-512q0 80-56 136t-136 56-136-56-56-136 56-136 136-56 136 56 56 136zm1408 416v192q0 13-9.5 22.5t-22.5 9.5h-1216q-13 0-22.5-9.5t-9.5-22.5v-192q0-13 9.5-22.5t22.5-9.5h1216q13 0 22.5 9.5t9.5 22.5zm-1408-928q0 80-56 136t-136 56-136-56-56-136 56-136 136-56 136 56 56 136zm1408 416v192q0 13-9.5 22.5t-22.5 9.5h-1216q-13 0-22.5-9.5t-9.5-22.5v-192q0-13 9.5-22.5t22.5-9.5h1216q13 0 22.5 9.5t9.5 22.5zm0-512v192q0 13-9.5 22.5t-22.5 9.5h-1216q-13 0-22.5-9.5t-9.5-22.5v-192q0-13 9.5-22.5t22.5-9.5h1216q13 0 22.5 9.5t9.5 22.5z"></path></svg>
                                </div>

                                <input
                                    class="border-l pl-4 h-[42px] w-96 border-neutral-800 focus-none outline-none"
                                    type="text"
                                    placeholder="Name"
                                    title="Name"
                                    v-model="field.propertyKey"
                                    :disabled="selectedContract.options.moduleContract"
                                />

                                <div class="flex justify-end mr-4 items-right h-[42px] w-full text-xs">
                                    <div class="items-center flex">
                                        <input
                                            type="checkbox"
                                            class="w-3 h-3 mr-2 text-blue-600 bg-neutral-800 dark:bg-gray-700 rounded-sm focus:ring-blue-800 focus:ring-2 rounded-md"
                                            v-model="field.nullable"
                                            title="Nullable"
                                            :disabled="selectedContract.options.moduleContract"
                                        />
                                        <label>N</label>
                                    </div>

                                    <div class="items-center flex ml-4">
                                        <input
                                            type="checkbox"
                                            class="w-3 h-3 mr-2 text-blue-600 bg-neutral-800 dark:bg-gray-700 rounded-sm focus:ring-blue-800 focus:ring-2 rounded-md"
                                            v-model="field.readOnly"
                                            title="Read Only"
                                            :disabled="selectedContract.options.moduleContract"
                                        />
                                        <label>RO</label>
                                    </div>

                                    <div class="items-center flex ml-4">
                                        <input
                                            type="checkbox"
                                            class="w-3 h-3 mr-2 text-blue-600 bg-neutral-800 dark:bg-gray-700 rounded-sm focus:ring-blue-800 focus:ring-2 rounded-md"
                                            v-model="field.required"
                                            title="Required"
                                            :disabled="selectedContract.options.moduleContract"
                                        />
                                        <label>R</label>
                                    </div>

                                    <div class="items-center flex ml-4">
                                        <input
                                            type="checkbox"
                                            class="w-3 h-3 mr-2 text-blue-600 bg-neutral-800 dark:bg-gray-700 rounded-sm focus:ring-blue-800 focus:ring-2 rounded-md"
                                            v-model="field.index"
                                            title="Index"
                                            :disabled="selectedContract.options.moduleContract"
                                        />
                                        <label>I</label>
                                    </div>

                                    <div class="items-center flex ml-4">
                                        <input
                                            type="checkbox"
                                            class="w-3 h-3 mr-2 text-blue-600 bg-neutral-800 dark:bg-gray-700 rounded-sm focus:ring-blue-800 focus:ring-2 rounded-md"
                                            v-model="field.unique"
                                            title="Unique"
                                            :disabled="selectedContract.options.moduleContract"
                                        />
                                        <label>U</label>
                                    </div>
                                </div>

                                <div class="flex p-1 border-l border-neutral-800" title="More">
                                    <button
                                        class="items-center justify-center flex select-none cursor-pointer mr-2 ml-2"
                                        @click="toggleOpened(field.propertyKey)"
                                    >
                                        <svg width="18" height="18" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="currentColor"><path fill-rule="evenodd" d="M10.5 6a1.5 1.5 0 1 1 3 0 1.5 1.5 0 0 1-3 0Zm0 6a1.5 1.5 0 1 1 3 0 1.5 1.5 0 0 1-3 0Zm0 6a1.5 1.5 0 1 1 3 0 1.5 1.5 0 0 1-3 0Z" clip-rule="evenodd"></path></svg>
                                    </button>
                                </div>

                                <div class="flex p-2 border-l border-neutral-800" title="More">
                                    <button
                                        class="items-center justify-center flex select-none mt-1 ml-1"
                                        :class="[selectedContract.options.moduleContract ? 'text-neutral-600 cursor-not-allowed' : 'text-red-500 cursor-pointer']"
                                        @click="removeField(field.propertyKey, fieldKey)"
                                        title="Remove Field"
                                    >
                                        <svg width="18" height="18" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="currentColor">
                                            <path fill-rule="evenodd" d="M5.47 5.47a.75.75 0 0 1 1.06 0L12 10.94l5.47-5.47a.75.75 0 1 1 1.06 1.06L13.06 12l5.47 5.47a.75.75 0 1 1-1.06 1.06L12 13.06l-5.47 5.47a.75.75 0 0 1-1.06-1.06L10.94 12 5.47 6.53a.75.75 0 0 1 0-1.06Z" clip-rule="evenodd"></path>
                                        </svg>
                                    </button>
                                </div>
                            </div>

                            <div
                                class="flex-colums border-t min-h-[400px] flex-1 border-neutral-800 p-4"
                                v-show="isOpened(field.propertyKey) ?? false"
                            >
                                <div class="flex border-b border-neutral-800 mb-2 pb-1 text-neutral-500">
                                    Options
                                </div>

                                <div class="flex-colums mb-4 pt-2">
                                    <div class="flex text-xs justify-center">
                                        <div class="w-[200px] flex items-center">Object Type: </div>
                                        <div class="w-[calc(100%-200px)] justify-end">
                                            <input
                                                class="border pl-4 h-[42px] w-full border-neutral-800 focus-none outline-none"
                                                type="text"
                                                placeholder="Object Type"
                                                title="Object Type"
                                                v-model="field.objectType"
                                                :disabled="selectedContract.options.moduleContract"
                                            />
                                        </div>
                                    </div>
                                    <div class="flex text-xs justify-center mt-2">
                                        <div class="w-[200px] flex items-center">Entity Type: </div>
                                        <div class="w-[calc(100%-200px)] justify-end">
                                            <input
                                                class="border pl-4 h-[42px] w-full border-neutral-800 focus-none outline-none"
                                                type="text"
                                                placeholder="Entity Type"
                                                title="Entity Type"
                                                v-model="field.entityType"
                                                :disabled="selectedContract.options.moduleContract"
                                            />
                                        </div>
                                    </div>
                                    <div class="flex text-xs justify-center mt-2">
                                        <div class="w-[200px] flex items-center">Model Name: </div>
                                        <div class="w-[calc(100%-200px)] justify-end">
                                            <input
                                                class="border pl-4 h-[42px] w-full border-neutral-800 focus-none outline-none"
                                                type="text"
                                                placeholder="Model Name"
                                                title="Model Name"
                                                v-model="field.modelName"
                                                :disabled="selectedContract.options.moduleContract"
                                            />
                                        </div>
                                    </div>
                                    <div class="flex text-xs justify-center mt-2">
                                        <div class="w-[200px] flex items-center">Resolver: </div>
                                        <div class="w-[calc(100%-200px)] justify-end">
                                            <input
                                                class="border pl-4 h-[42px] w-full border-neutral-800 focus-none outline-none"
                                                type="text"
                                                placeholder="Resolver"
                                                title="Resolver"
                                                v-model="field.resolver"
                                                :disabled="selectedContract.options.moduleContract"
                                            />
                                        </div>
                                    </div>
                                </div>

                                <div class="flex border-b border-neutral-800 mb-2 pb-1 text-neutral-500">
                                    Validations
                                </div>

                                <div class="flex-row">
                                    <div
                                        v-for="validation in field.validations"
                                        class=" border-b border-neutral-800"
                                    >
                                        <select
                                            title="Type"
                                            class="p-2 pr-4 mr-2 h-[42px] w-56 outline-none bg-neutral-900 border-none"
                                            :class="[selectedContract.options.moduleContract ? 'text-neutral-500' : '']"
                                            :disabled="selectedContract.options.moduleContract"
                                            v-model="validation.type"
                                        >
                                            <option
                                                v-for="validationType in validationsTypes"
                                                :selected="validation.type === validationType.key"
                                                :value="validationType.key"
                                            >{{ validationType.label }}</option>
                                        </select>

                                        <input
                                            class="border-l pl-4 h-[42px] w-96 border-neutral-800 focus-none outline-none"
                                            type="text"
                                            placeholder="Message"
                                            title="Message"
                                            v-model="validation.message"
                                            :disabled="selectedContract.options.moduleContract"
                                        />
                                    </div>
                                </div>

                                <div class="flex border-b border-neutral-800 mb-2 pb-1 mt-4 text-neutral-500">
                                    Schema
                                </div>

                                <div class="p-2 bg-neutral-800 rounded-md">
                                    <pre>{{ JSON.stringify(field, null, 4) }}</pre>
                                </div>
                            </div>
                        </div>
                    </div>

                    <div
                        v-show="tabs[selectedTab].label === 'Index'"
                        class="flex-1 p-4 overflow-auto h-[calc(100%-96px)]"
                    >
                        {{ selectedContract.indexs }}
                    </div>

                    <div
                        v-show="tabs[selectedTab].label === 'Methods'"
                        class="flex-1 p-4 overflow-auto h-[calc(100%-96px)]"
                    >
                        {{ selectedContract.services }}
                    </div>

                    <div
                        v-show="tabs[selectedTab].label === 'DTOs'"
                        class="flex-1 p-4 overflow-auto h-[calc(100%-96px)]"
                    >
                        {{ selectedContract.messages }}
                    </div>

                    <!-- Schema -->
                    <div
                        v-show="tabs[selectedTab].label === 'Schema'"
                        class="flex-1 flex-colums relative p-4 overflow-auto h-[calc(100%-96px)]"
                    >
                        <div id="schemaEditor" class="h-full border border-neutral-800"></div>
                    </div>
                </div>
            </div>

            <!-- Loading -->
            <div v-show="loading" class="loading flex">
                <div class="flex pr-2 pt-0.5">
                    <svg fill="currentColor" width="16" height="16" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg" style="padding: 1px;">
                        <path d="M10.14,1.16a11,11,0,0,0-9,8.92A1.59,1.59,0,0,0,2.46,12,1.52,1.52,0,0,0,4.11,10.7a8,8,0,0,1,6.66-6.61A1.42,1.42,0,0,0,12,2.69h0A1.57,1.57,0,0,0,10.14,1.16Z">
                            <animateTransform attributeName="transform" type="rotate" dur="0.75s" values="0 12 12;360 12 12" repeatCount="indefinite"></animateTransform>
                        </path>
                    </svg>
                </div>

                <div class="text-sm">Loading...</div>
            </div>

            <!-- Modal -->
            <div
                class="bg-neutral-900/50 fixed top-0 bottom-0 left-0 right-0 z-40 flex items-center justify-center"
                style="backdrop-filter: blur(4px);"
                v-show="modalConfirm"
            >
                <div class="relative max-w-[400px] m-auto transition duration-200 c-card rounded-lg bg-neutral-900 border-black text-neutral-200 border-neutral-800 border shadow-lg text-center">
                    <div class="border-b border-neutral-800 p-2 relative">
                        <h2>{{ modalContent.title }}</h2>

                        <div class="absolute top-2 right-2">
                            <button class="cursor-pointer hover:text-white" title="Close" @click="modalConfirm = false">
                                <svg width="18" height="18" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="currentColor">
                                    <path fill-rule="evenodd" d="M5.47 5.47a.75.75 0 0 1 1.06 0L12 10.94l5.47-5.47a.75.75 0 1 1 1.06 1.06L13.06 12l5.47 5.47a.75.75 0 1 1-1.06 1.06L12 13.06l-5.47 5.47a.75.75 0 0 1-1.06-1.06L10.94 12 5.47 6.53a.75.75 0 0 1 0-1.06Z" clip-rule="evenodd"></path>
                                </svg>
                            </button>
                        </div>
                    </div>

                    <span class="text-xs p-4 flex">
                        {{ modalContent.content }}
                    </span>

                    <div class="mb-4">
                        <button
                            class="bg-red-900 hover:bg-red-800 p-1 px-3 rounded-md select-none cursor-pointer mr-2"
                            @click="modalContent.cb()"
                        >Delete</button>

                        <button
                            class="bg-neutral-800 hover:bg-neutral-700 p-1 px-3 rounded-md select-none cursor-pointer"
                            @click="modalConfirm = false"
                        >Cancel</button>
                    </div>
                </div>
            </div>

            <!-- New Contract -->
            <div
                class="bg-neutral-900/50 fixed top-0 bottom-0 left-0 right-0 z-40 flex items-center justify-center"
                style="backdrop-filter: blur(4px);"
                v-show="modalNewContract"
            >
                <div class="relative max-w-[700px] m-auto transition duration-200 c-card rounded-lg bg-neutral-900 border-black text-neutral-200 border-neutral-800 border shadow-lg text-center">
                    <div class="border-b border-neutral-800 p-2 relative">
                        <h2>New Contract</h2>

                        <div class="absolute top-2 right-2">
                            <button class="cursor-pointer hover:text-white" title="Close" @click="modalConfirm = false">
                                <svg width="18" height="18" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="currentColor">
                                    <path fill-rule="evenodd" d="M5.47 5.47a.75.75 0 0 1 1.06 0L12 10.94l5.47-5.47a.75.75 0 1 1 1.06 1.06L13.06 12l5.47 5.47a.75.75 0 1 1-1.06 1.06L12 13.06l-5.47 5.47a.75.75 0 0 1-1.06-1.06L10.94 12 5.47 6.53a.75.75 0 0 1 0-1.06Z" clip-rule="evenodd"></path>
                                </svg>
                            </button>
                        </div>
                    </div>

                    <div class="text-xs p-4 flex-colums w-[420px]">
                        <div class="flex text-xs justify-center mt-2">
                            <div class="w-[150px] flex items-center">Contract Name:</div>
                            <div class="w-[300px] text-left">
                                {{ `${newContractData.controllerName ?? ''}Contract` }}
                            </div>
                        </div>

                        <div class="flex text-xs justify-center mt-2">
                            <div class="w-[150px] flex items-center">Controller Name: <span class="text-red-600 ml-1">*</span></div>
                            <div class="w-[300px] justify-end">
                                <input
                                    class="border pl-4 h-[42px] w-full border-neutral-800 focus-none outline-none"
                                    type="text"
                                    placeholder="MyNew"
                                    v-model="newContractData.controllerName"
                                />
                            </div>
                        </div>

                        <div class="flex text-xs justify-center mt-2">
                            <div class="w-[150px] flex items-center">Subpath: </div>
                            <div class="w-[300px] justify-end">
                                <input
                                    class="border pl-4 h-[42px] w-full border-neutral-800 focus-none outline-none"
                                    type="text"
                                    placeholder="/path"
                                    v-model="newContractData.subPath"
                                />
                            </div>
                        </div>
                    </div>

                    <div class="mb-4">
                        <button
                            class="bg-green-900 hover:bg-green-800 p-1 px-3 rounded-md select-none cursor-pointer mr-2"
                            @click="createContract()"
                        >Create</button>

                        <button
                            class="bg-neutral-800 hover:bg-neutral-700 p-1 px-3 rounded-md select-none cursor-pointer"
                            @click="modalNewContract = false"
                        >Cancel</button>
                    </div>
                </div>
            </div>
        </div>
        <script>var require = { paths: { 'vs': 'https://cdnjs.cloudflare.com/ajax/libs/monaco-editor/0.26.1/min/vs' } }</script>
        <script src="https://cdnjs.cloudflare.com/ajax/libs/monaco-editor/0.26.1/min/vs/loader.min.js"></script>
        <script src="https://cdnjs.cloudflare.com/ajax/libs/monaco-editor/0.26.1/min/vs/editor/editor.main.nls.js"></script>
        <script src="https://cdnjs.cloudflare.com/ajax/libs/monaco-editor/0.26.1/min/vs/editor/editor.main.js"></script>
        <script type="text/javascript" src="sandbox/client.js"></script>
    </body>
</html>
